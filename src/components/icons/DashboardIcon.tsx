"use client";
import { useEffect, useState } from "react";
import { usePathname } from "next/navigation";
import { IconProp } from "@/global";


export const DashboardIcon = ({ path }: IconProp) => {
  const [color, setColor] = useState("#696969");
  const pathname = usePathname();
  const isCurrent = pathname.startsWith(path);

  useEffect(() => {
    if (isCurrent) {
      setColor("#4CAF50");
    } else {
      setColor("#696969");
    }
  }, [pathname,isCurrent]);

  return (
    <svg width="18" height="18" viewBox="0 0 28 28" fill="none">
      <path
        d="M16.3333 24.5C15.689 24.5 15.1667 23.9777 15.1667 23.3333V14C15.1667 13.3556 15.689 12.8333 16.3333 12.8333H23.3333C23.9777 12.8333 24.5 13.3556 24.5 14V23.3333C24.5 23.9777 23.9777 24.5 23.3333 24.5H16.3333ZM4.66667 15.1667C4.02234 15.1667 3.5 14.6444 3.5 14V4.66667C3.5 4.02234 4.02234 3.5 4.66667 3.5H11.6667C12.311 3.5 12.8333 4.02234 12.8333 4.66667V14C12.8333 14.6444 12.311 15.1667 11.6667 15.1667H4.66667ZM10.5 12.8333V5.83333H5.83333V12.8333H10.5ZM4.66667 24.5C4.02234 24.5 3.5 23.9777 3.5 23.3333V18.6667C3.5 18.0223 4.02234 17.5 4.66667 17.5H11.6667C12.311 17.5 12.8333 18.0223 12.8333 18.6667V23.3333C12.8333 23.9777 12.311 24.5 11.6667 24.5H4.66667ZM5.83333 22.1667H10.5V19.8333H5.83333V22.1667ZM17.5 22.1667H22.1667V15.1667H17.5V22.1667ZM15.1667 4.66667C15.1667 4.02234 15.689 3.5 16.3333 3.5H23.3333C23.9777 3.5 24.5 4.02234 24.5 4.66667V9.33333C24.5 9.97766 23.9777 10.5 23.3333 10.5H16.3333C15.689 10.5 15.1667 9.97766 15.1667 9.33333V4.66667ZM17.5 5.83333V8.16667H22.1667V5.83333H17.5Z"
        fill={color}
      />
    </svg>
  );
};
